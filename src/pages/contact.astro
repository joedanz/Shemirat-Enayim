---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/Hero.astro';
import Alert from '../components/Alert.astro';

const currentPath = Astro.url.pathname;
---

<Layout
	title="Contact Us - Shemirat Enayim"
	description="Get in touch with us for questions, suggestions, or feedback about our internet safety resources."
>
	<Header currentPath={currentPath} />

	<Hero
		title="Get In Touch"
		subtitle="We'd love to hear from you. Questions, suggestions, or feedback â€” we're here to help."
		align="center"
	/>

	<main class="contact-main">
		<div class="container">
			<div class="contact-wrapper">
				<div class="contact-content">
					<section class="intro-section">
						<p>
							Have a question about internet safety? Found an error in one of our guides?
							Have a suggestion for new content? We welcome all feedback and inquiries.
						</p>
						<Alert type="info">
							<strong>Response Time:</strong> We typically respond within 2-3 business days.
							Please be patient as this is a volunteer-run project.
						</Alert>
					</section>

					<form class="contact-form" method="POST" action="#" id="contact-form">
						<div class="form-group">
							<label for="name">Name <span class="required">*</span></label>
							<input
								type="text"
								id="name"
								name="name"
								required
								placeholder="Your name"
							/>
						</div>

						<div class="form-group">
							<label for="email">Email <span class="required">*</span></label>
							<input
								type="email"
								id="email"
								name="email"
								required
								placeholder="your.email@example.com"
							/>
						</div>

						<div class="form-group">
							<label for="subject">Subject <span class="required">*</span></label>
							<select id="subject" name="subject" required>
								<option value="">Select a topic...</option>
								<option value="general">General Question</option>
								<option value="suggestion">Content Suggestion</option>
								<option value="technical">Technical Issue</option>
								<option value="error">Content Error/Update Needed</option>
								<option value="partnership">Partnership Inquiry</option>
								<option value="other">Other</option>
							</select>
						</div>

						<div class="form-group">
							<label for="message">Message <span class="required">*</span></label>
							<textarea
								id="message"
								name="message"
								required
								rows="8"
								placeholder="Please share your question, feedback, or suggestions..."
							></textarea>
						</div>

						<div class="form-privacy">
							<p>
								<strong>Privacy Notice:</strong> We respect your privacy. Your information is used
								only to respond to your inquiry and is never shared with third parties.
								We do not store your personal information beyond what's necessary to assist you.
							</p>
						</div>

						<button type="submit" class="submit-button">
							Send Message
						</button>

						<div class="form-note">
							<p>
								<strong>Note:</strong> This form is currently in development. For now, please
								email us directly at <a href="mailto:contact@example.com">contact@example.com</a>
								with your inquiry.
							</p>
						</div>
					</form>
				</div>

				<aside class="contact-sidebar">
					<div class="sidebar-card">
						<h3>Other Ways to Reach Us</h3>
						<div class="contact-method">
							<h4>Email</h4>
							<p>
								<a href="mailto:contact@example.com">contact@example.com</a>
							</p>
						</div>
						<div class="contact-method">
							<h4>Community Forum</h4>
							<p>
								Join discussions with other families and share experiences.
								<br />
								<em>(Coming soon)</em>
							</p>
						</div>
					</div>

					<div class="sidebar-card">
						<h3>Frequently Asked Questions</h3>
						<p>
							Many common questions are answered in our <a href="/faq">FAQ section</a>.
							Check there first for quick answers.
						</p>
					</div>

					<div class="sidebar-card">
						<h3>Report Security Issues</h3>
						<p>
							If you've discovered a security issue with one of our recommendations,
							please email us with "SECURITY" in the subject line for priority handling.
						</p>
					</div>
				</aside>
			</div>
		</div>
	</main>

	<Footer />
</Layout>

<style>
	.contact-main {
		flex: 1;
		padding: var(--space-12) 0;
	}

	.contact-wrapper {
		display: grid;
		grid-template-columns: 1fr;
		gap: var(--space-12);
		max-width: 75rem;
		margin: 0 auto;
	}

	@media (min-width: 1024px) {
		.contact-wrapper {
			grid-template-columns: 2fr 1fr;
		}
	}

	.intro-section {
		margin-bottom: var(--space-8);
	}

	.intro-section p {
		font-size: var(--text-lg);
		line-height: var(--leading-relaxed);
		margin-bottom: var(--space-6);
		color: var(--color-gray-700);
	}

	/* Contact Form */
	.contact-form {
		background-color: white;
		padding: var(--space-8);
		border-radius: var(--radius-xl);
		border: 1px solid var(--color-gray-200);
		box-shadow: var(--shadow-md);
	}

	.form-group {
		margin-bottom: var(--space-6);
	}

	.form-group label {
		display: block;
		font-weight: 600;
		margin-bottom: var(--space-2);
		color: var(--color-gray-900);
		font-size: var(--text-base);
	}

	.required {
		color: var(--color-error);
	}

	.form-group input,
	.form-group select,
	.form-group textarea {
		width: 100%;
		padding: var(--space-3);
		border: 1px solid var(--color-gray-300);
		border-radius: var(--radius-md);
		font-family: var(--font-sans);
		font-size: var(--text-base);
		transition: all var(--transition-base);
		background-color: white;
	}

	.form-group input:focus,
	.form-group select:focus,
	.form-group textarea:focus {
		outline: none;
		border-color: var(--color-primary-500);
		box-shadow: 0 0 0 3px var(--color-primary-100);
	}

	.form-group textarea {
		resize: vertical;
		min-height: 120px;
	}

	.form-privacy {
		background-color: var(--color-gray-50);
		padding: var(--space-4);
		border-radius: var(--radius-md);
		margin-bottom: var(--space-6);
		border: 1px solid var(--color-gray-200);
	}

	.form-privacy p {
		font-size: var(--text-sm);
		color: var(--color-gray-700);
		margin: 0;
		line-height: var(--leading-relaxed);
	}

	.submit-button {
		width: 100%;
		padding: var(--space-4) var(--space-6);
		background-color: var(--color-primary-600);
		color: white;
		border: none;
		border-radius: var(--radius-lg);
		font-size: var(--text-lg);
		font-weight: 600;
		cursor: pointer;
		transition: all var(--transition-base);
	}

	.submit-button:hover {
		background-color: var(--color-primary-700);
		transform: translateY(-2px);
		box-shadow: var(--shadow-lg);
	}

	.submit-button:active {
		transform: translateY(0);
	}

	.submit-button:focus-visible {
		outline: 2px solid var(--color-primary-500);
		outline-offset: 2px;
	}

	.form-note {
		margin-top: var(--space-6);
		padding: var(--space-4);
		background-color: var(--color-warning);
		background-color: #fef3c7;
		border: 1px solid #fcd34d;
		border-radius: var(--radius-md);
	}

	.form-note p {
		font-size: var(--text-sm);
		color: #78350f;
		margin: 0;
	}

	.form-note a {
		color: #78350f;
		font-weight: 600;
		text-decoration: underline;
	}

	/* Sidebar */
	.contact-sidebar {
		display: flex;
		flex-direction: column;
		gap: var(--space-6);
	}

	.sidebar-card {
		background-color: var(--color-gray-50);
		padding: var(--space-6);
		border-radius: var(--radius-lg);
		border: 1px solid var(--color-gray-200);
	}

	.sidebar-card h3 {
		font-size: var(--text-lg);
		color: var(--color-gray-900);
		margin-bottom: var(--space-4);
	}

	.sidebar-card h4 {
		font-size: var(--text-base);
		color: var(--color-primary-600);
		margin-bottom: var(--space-2);
		margin-top: var(--space-4);
	}

	.sidebar-card h4:first-of-type {
		margin-top: 0;
	}

	.sidebar-card p {
		font-size: var(--text-sm);
		line-height: var(--leading-relaxed);
		margin-bottom: 0;
	}

	.sidebar-card a {
		font-weight: 600;
	}

	.contact-method {
		margin-bottom: var(--space-4);
	}

	.contact-method:last-child {
		margin-bottom: 0;
	}
</style>

<script>
	// Basic form validation and handling
	document.addEventListener('DOMContentLoaded', () => {
		const form = document.getElementById('contact-form');

		if (form) {
			form.addEventListener('submit', (e) => {
				e.preventDefault();

				// In production, this would send to a backend
				// For now, show an alert
				alert('Form submission is currently in development. Please email us directly at contact@example.com');
			});
		}
	});
</script>
