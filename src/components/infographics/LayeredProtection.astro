---
interface Props {
	class?: string;
}

const { class: className = '' } = Astro.props;
---

<div class:list={['infographic', 'layered-protection', className]}>
	<h3 class="infographic-title">Layered Protection Approach</h3>
	<p class="infographic-subtitle">Multiple layers of protection provide the strongest defense</p>
	<svg viewBox="0 0 600 500" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="layers-title layers-desc">
		<title id="layers-title">Layered Protection Pyramid</title>
		<desc id="layers-desc">
			A pyramid diagram showing three layers of internet protection: Network-level filtering at the base,
			Device-level controls in the middle, and Software solutions at the top.
		</desc>

		<!-- Layer 3 - Network Level (Base - Widest) -->
		<path d="M 50 400 L 300 250 L 550 400 Z" fill="#dbeafe" stroke="#2563eb" stroke-width="3"/>
		<text x="300" y="340" text-anchor="middle" font-size="20" font-weight="bold" fill="#1e40af">
			Layer 1: Network-Level
		</text>
		<text x="300" y="365" text-anchor="middle" font-size="14" fill="#1e40af">
			DNS Filtering • Router Controls • Firewall
		</text>
		<text x="300" y="385" text-anchor="middle" font-size="12" fill="#1e40af" font-style="italic">
			Protects all devices on your network
		</text>

		<!-- Layer 2 - Device Level (Middle) -->
		<path d="M 120 250 L 300 150 L 480 250 Z" fill="#bbf7d0" stroke="#16a34a" stroke-width="3"/>
		<text x="300" y="210" text-anchor="middle" font-size="18" font-weight="bold" fill="#15803d">
			Layer 2: Device-Level
		</text>
		<text x="300" y="230" text-anchor="middle" font-size="13" fill="#15803d">
			Screen Time • Parental Controls • App Limits
		</text>

		<!-- Layer 1 - Software Level (Top - Narrowest) -->
		<path d="M 200 150 L 300 80 L 400 150 Z" fill="#fef08a" stroke="#ca8a04" stroke-width="3"/>
		<text x="300" y="115" text-anchor="middle" font-size="16" font-weight="bold" fill="#854d0e">
			Layer 3: Software
		</text>
		<text x="300" y="133" text-anchor="middle" font-size="12" fill="#854d0e">
			Filtering Apps • Accountability
		</text>

		<!-- Shield icon at top -->
		<g transform="translate(280, 20)">
			<path d="M 20 5 C20 5, 5 10, 5 20 C5 35, 5 45, 20 60 C35 45, 35 35, 35 20 C35 10, 20 5, 20 5 Z"
				  fill="#fef08a" stroke="#ca8a04" stroke-width="2"/>
			<circle cx="20" cy="30" r="8" fill="#854d0e"/>
		</g>

		<!-- Side annotations -->
		<g transform="translate(20, 100)">
			<text x="0" y="0" font-size="11" fill="#4b5563" font-weight="bold">→ Strongest</text>
			<text x="0" y="90" font-size="11" fill="#4b5563">→ Strong</text>
			<text x="0" y="190" font-size="11" fill="#4b5563">→ Essential</text>
		</g>

		<!-- Bottom legend -->
		<g transform="translate(50, 440)">
			<text x="0" y="0" font-size="13" font-weight="bold" fill="#374151">Why Layered Protection?</text>
			<text x="0" y="20" font-size="11" fill="#4b5563">• If one layer is bypassed, others still protect</text>
			<text x="0" y="38" font-size="11" fill="#4b5563">• Each layer catches different threats</text>
			<text x="0" y="56" font-size="11" fill="#4b5563">• Combines prevention, monitoring, and accountability</text>
		</g>
	</svg>
</div>

<style>
	.infographic {
		margin: var(--space-8) 0;
		padding: var(--space-6);
		background: white;
		border: 1px solid var(--color-gray-200);
		border-radius: var(--radius-xl);
	}

	.infographic-title {
		font-size: var(--text-2xl);
		font-weight: 700;
		color: var(--color-gray-900);
		text-align: center;
		margin-bottom: var(--space-2);
	}

	.infographic-subtitle {
		font-size: var(--text-base);
		color: var(--color-gray-600);
		text-align: center;
		margin-bottom: var(--space-6);
	}

	.layered-protection svg {
		width: 100%;
		height: auto;
		max-width: 600px;
		margin: 0 auto;
		display: block;
	}

	@media print {
		.infographic {
			page-break-inside: avoid;
			border: 1px solid #ddd;
		}
	}
</style>
